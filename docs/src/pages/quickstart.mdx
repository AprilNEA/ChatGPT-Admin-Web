import { Callout, Steps } from 'nextra/components'

## å¿«é€Ÿå¼€å§‹
<Callout type="info" emoji="â„¹ï¸">
  **Prerequisite** You should have installed Node.js (version 18.10.0 or
  higher).
</Callout>

<Steps>
  ### å…‹éš†é¡¹ç›®å¹¶å®‰è£…ä¾èµ–

  ```bash
  git clone https://github.com/AprilNEA/ChatGPT-Admin-Web.git
  cd ChatGPT-Admin-Web
  pnpm install
  ```
  > pnpm å®‰è£…ï¼š`npm i -g pnpm`

  ### åˆå§‹åŒ–æ•°æ®åº“

  è®¾ç½®`DATABASE_URL`ç¯å¢ƒå˜é‡ï¼Œä¾‹å¦‚ï¼š
  ```bash
  export DATABASE_URL=postgres://postgres:your_password@localhost:5432/postgres
  ```
  > å¯é€šè¿‡ Docker å¿«é€Ÿå¯åŠ¨ä¸€ä¸ª PostgreSQL æ•°æ®åº“
  >
  > `docker run -itd --name caw -e POSTGRES_PASSWORD=your_password -p 5432:5432 -d postgres`

  åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œï¼š

  ```bash
  pnpm run db:init
  ```

  ä½ ä¼šçœ‹è§å¦‚ä¸‹è¾“å‡ºï¼Œåˆ™è¡¨æ˜æ•°æ®åº“å·²ç»åˆå§‹åŒ–æˆåŠŸï¼š

  ```bash
  > chatgpt-admin-web@3.1.0 db:init /path/to/ChatGPT-Admin-Web
  > prisma db push && prisma db seed

  Environment variables loaded from .env
  Prisma schema loaded from prisma/schema.prisma
  Datasource "db": PostgreSQL database "postgres", schema "public" at "localhost:5434"

  ğŸš€ Your database is now in sync with your Prisma schema. Done in 245ms

  âœ” Generated Prisma Client (v5.3.1) to ./prisma/client in 297ms

  Environment variables loaded from .env
  Running seed command `ts-node prisma/seed.ts` ...
  {
    models: {count: 2},
    categories: {count: 1},
    products: {count: 1},
    limits: {count: 1}
  }

  ğŸŒ± The seed command has been executed.

  ```

  è®¾ç½®`REDIS_URL`ç¯å¢ƒå˜é‡ï¼Œä¾‹å¦‚ï¼š
  ```bash
  export REDIS_URL=redis://localhost:6379/0
  ```
  > å¯é€šè¿‡ Docker å¿«é€Ÿå¯åŠ¨ä¸€ä¸ª Redis æ•°æ®åº“
  >
  > `docker run -p 6379:6379 -d redis/redis-stack:latest`


  ### å¯åŠ¨é¡¹ç›®
  ```bash
  pnpm run start
  ```

  é¡¹ç›®é»˜è®¤è¿è¡Œåœ¨ `http://localhost:3000`ã€‚

  é¦–æ¬¡è¿è¡Œé¡¹ç›®ä¼šè‡ªåŠ¨ç”Ÿæˆ`config.json`, å¹¶å¯¼å…¥`DATABASE_URL`å’Œ`REDIS_URL`ç¯å¢ƒå˜é‡ï¼Œåç»­æ›´æ”¹å¯ç›´æ¥ä¿®æ”¹`config.json`ã€‚

  <Callout type="warning" emoji="ğŸ‘·â€â™€ï¸">
    Dashboard is coming soon.
  </Callout>

  ~~é¦–æ¬¡æ‰“å¼€åº”è‡ªåŠ¨è½¬è·³`http://localhost:3000/install`è®¾ç½®ç®¡ç†å‘˜è´¦æˆ·å’Œå¯†ç ï¼Œè®¾ç½®æˆåŠŸåå³å¯ç™»å½•ã€‚~~

</Steps>

## é…ç½®

<Callout type="info" emoji="â„¹ï¸">
  é‚®ä»¶æœåŠ¡ä»… Resend é€šè¿‡æµ‹è¯•ã€‚
  çŸ­ä¿¡æœåŠ¡ä»… UniSMS é€šè¿‡æµ‹è¯•ã€‚
  æ”¯ä»˜æœåŠ¡ä»… Xunhu é€šè¿‡æµ‹è¯•ã€‚
</Callout>

```json
{
  ...// è‡ªåŠ¨ç”Ÿæˆéƒ¨åˆ†

  "openai": {
    "baseUrl": "https://api.openai.com/v1",
    "keys": [
      "fff"
    ]
  },
  "email": {
    "use": "resend",
    "domain": "example.com",
    "resend": {
      "apiKey": "fff"
    }
  },
  "sms": {
    "use": "uni",
    "uni": {
      "signature": "XXç§‘æŠ€",
      "apiKey": "ffffff"
    }
  },
  "payment": {
    "use": "xunhu",
    "xunhu": {
      "wapName": "XXç§‘æŠ€",
      "appId": "ffffff",
      "appSecret": "ffffff",
      "notifyUrl": "https://example.com",
      "returnUrl": "https://example.com"
    }
  }
}
```
